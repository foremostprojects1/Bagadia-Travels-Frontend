"use client";
import React, { useEffect, useState } from "react";
import axios from "axios";
import Loader from "../loading.js";
import Header from "@/components/header/Header.js";
import Link from "next/link";
import { toast } from "react-toastify";

const CabManagement = () => {
  const [cabs, setCabs] = useState([]);
  const [showModal, setShowModal] = useState(false);
  const [deleteId, setDeleteId] = useState(null);
  const [editingCab, setEditingCab] = useState(null);
  const [isLoading, setIsLoading] = useState(true);

  const [form, setForm] = useState({
    source: "",
    destination: "",
    cars: [{ carName: "", price: "" }],
  });

  const TaxiIcon = ({ size = 32, color = "var(--primary-color1)" }) => (
    <svg
      width={size}
      height={size}
      viewBox="0 0 24 24"
      fill={color}
      xmlns="http://www.w3.org/2000/svg"
    >
      <path d="M18.92 6H17l-1.59-3.17A2 2 0 0013.59 1H10.4a2 2 0 00-1.82 1.17L7 6H5.08A2.09 2.09 0 003 8v7a2 2 0 002 2v2a1 1 0 001 1h1a1 1 0 001-1v-2h8v2a1 1 0 001 1h1a1 1 0 001-1v-2a2 2 0 002-2V8a2.09 2.09 0 00-2.08-2zM10.4 3h3.19l1 2H9.37zM6 14a2 2 0 112-2 2 2 0 01-2 2zm12 0a2 2 0 112-2 2 2 0 01-2 2z" />
    </svg>
  );

  // Fetch all cabs
  const getCabs = async () => {
    try {
      const res = await axios.get(
        "https://bagadia-travels.onrender.com/api/v1/cab"
      );
      setCabs(res.data.data || res.data);
    } catch (error) {
      // Handle errors
      console.error("Error fetching data:", error);
    } finally {
      setIsLoading(false);
    }
  };

  useEffect(() => {
    getCabs();
  }, []);

  // Add / Edit form change
  const updateForm = (e, index = null, field = null) => {
    if (field) {
      const updatedCars = [...form.cars];
      updatedCars[index][field] = e.target.value;
      setForm({ ...form, cars: updatedCars });
    } else {
      setForm({ ...form, [e.target.name]: e.target.value });
    }
  };

  // Add new car input row
  const addCarRow = () => {
    setForm({ ...form, cars: [...form.cars, { carName: "", price: "" }] });
  };

  // Delete car row
  const removeCarRow = (index) => {
    const updated = form.cars.filter((_, i) => i !== index);
    setForm({ ...form, cars: updated });
  };

  // Save (Add or Edit)
  const handleSave = async () => {
    try {
      if (editingCab) {
        await axios.put(
          `https://bagadia-travels.onrender.com/api/v1/cab/${editingCab._id}`,
          form
        );
        toast.success("Cab updated successfully");
      } else {
        await axios.post(
          "https://bagadia-travels.onrender.com/api/v1/cab",
          form
        );
        toast.success("Cab added successfully");
      }

      setShowModal(false);
      setEditingCab(null);
      setForm({
        source: "",
        destination: "",
        cars: [{ carName: "", price: "" }],
      });
      getCabs();
    } catch (error) {
      console.error(error);
      toast.error("Failed to save cab");
    }
  };

  // Edit handler
  const handleEdit = (cab) => {
    setEditingCab(cab);
    setForm({
      source: cab.source,
      destination: cab.destination,
      cars: cab.cars,
    });
    setShowModal(true);
  };

  // Delete handler
  const handleDelete = async () => {
    try {
      await axios.delete(
        `https://bagadia-travels.onrender.com/api/v1/cab/${deleteId}`
      );
      toast.success("Cab deleted successfully");
      setDeleteId(null);
      getCabs();
    } catch (error) {
      console.error(error);
      toast.error("Failed to delete cab");
    }
  };

  // Toggle Active/Inactive
  const toggleStatus = async (cab) => {
    try {
      await axios.patch(
        `https://bagadia-travels.onrender.com/api/v1/cab/${cab._id}/status`,
        { active: !cab.active }
      );
      toast.success(`Cab is now ${cab.active ? "Inactive" : "Active"}`);
      getCabs();
    } catch (error) {
      console.error(error);
      toast.error("Failed to update status");
    }
  };

  return (
    <>
      {isLoading ? (
        <Loader />
      ) : (
        <>
          <Header />
          <div className="dashboard-wrapper">
            <div className="dashboard-sidebar-wrapper">
              <div className="dashboard-sidebar-menu">
                <ul>
                  <li className="active">
                    <Link href="/admin-dashboard">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width={18}
                        height={18}
                        viewBox="0 0 18 18"
                      >
                        <g>
                          <path d="M8.42631 0.0843773C8.31381 0.130079 8.16264 0.210939 8.09233 0.260159C8.0185 0.309376 6.24311 2.0707 4.14076 4.17305C1.06108 7.25977 0.305216 8.0332 0.231388 8.18086C-0.106112 8.86289 0.00638798 9.6082 0.523185 10.1285C0.846623 10.4484 1.25795 10.6172 1.72904 10.6172H1.96811V13.4297C1.96811 15.3316 1.98217 16.2984 2.00678 16.425C2.14037 17.0648 2.65717 17.6449 3.29701 17.8664C3.52905 17.9473 3.54662 17.9473 5.24467 17.9473C6.91811 17.9473 6.95678 17.9473 7.0517 17.8734C7.10444 17.8348 7.18178 17.7574 7.22045 17.7047C7.29428 17.6098 7.29428 17.5641 7.31186 15.2613L7.32944 12.9129L7.43491 12.7406C7.5685 12.5262 7.8392 12.3539 8.09936 12.3223C8.1978 12.3082 8.68998 12.3047 9.19272 12.3117L10.1068 12.3223L10.2931 12.4242C10.4689 12.5227 10.5814 12.6387 10.6904 12.832C10.729 12.9059 10.7431 13.3383 10.7572 15.2648C10.7747 17.5641 10.7747 17.6098 10.8486 17.7047C10.8872 17.7574 10.9646 17.8348 11.0173 17.8734C11.1122 17.9473 11.1509 17.9473 12.8244 17.9473C14.5224 17.9473 14.54 17.9473 14.772 17.8664C15.4119 17.6449 15.9287 17.0648 16.0623 16.425C16.0869 16.2984 16.1009 15.3316 16.1009 13.4297V10.6172H16.34C17.0009 10.6172 17.5775 10.2656 17.8623 9.68555C17.9818 9.44297 17.9818 9.43594 17.9818 8.96484C17.9818 8.16328 18.3861 8.63789 13.872 4.12735C9.38608 -0.362108 9.83608 0.0246105 9.06967 0.00703239C8.67241 1.90735e-06 8.61264 0.00703239 8.42631 0.0843773ZM9.29467 1.08985C9.50209 1.18828 16.8498 8.54648 16.9271 8.72578C17.0009 8.90508 16.9939 9.05625 16.906 9.23203C16.7759 9.50274 16.6669 9.54141 15.9884 9.5625C15.3521 9.58008 15.3064 9.59414 15.1376 9.82266C15.0638 9.91758 15.0638 9.95625 15.0462 13.1063L15.0287 16.2949L14.9302 16.4602C14.8775 16.5516 14.7826 16.6676 14.7193 16.7133C14.4732 16.9031 14.3994 16.9102 13.0564 16.9102H11.8119V14.9414C11.8119 13.6512 11.7978 12.9129 11.7732 12.7898C11.6361 12.1289 11.1052 11.5594 10.4232 11.3449C10.1912 11.2711 10.1138 11.2676 9.03451 11.2676C7.77592 11.2676 7.71264 11.2746 7.26264 11.5031C6.81615 11.7281 6.40131 12.2836 6.29584 12.7898C6.27123 12.9129 6.25717 13.6512 6.25717 14.9414V16.9102H5.01264C3.66967 16.9102 3.59584 16.9031 3.34975 16.7133C3.28647 16.6676 3.19155 16.5516 3.13881 16.4602L3.04037 16.2949L3.02279 13.1063C3.00522 9.95625 3.00522 9.91758 2.93139 9.82266C2.76264 9.59414 2.71694 9.58008 2.08061 9.5625C1.40209 9.54141 1.29311 9.50274 1.16303 9.23203C1.07514 9.05625 1.06811 8.90508 1.14194 8.72578C1.21576 8.55 8.56694 1.1918 8.77084 1.08985C8.95014 1.00196 9.11537 1.00196 9.29467 1.08985Z" />
                        </g>
                      </svg>
                      <h6>Dashboard</h6>
                    </Link>
                  </li>
                  <li className="item-has-children">
                    <a>
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width={18}
                        height={18}
                        viewBox="0 0 23 23"
                      >
                        <g>
                          <path d="M5.64903 6.91357C2.53954 6.91357 0.00976562 9.44335 0.00976562 12.5528C0.00976562 14.4834 0.928148 16.5592 2.73944 18.7225C2.9952 19.0275 3.26021 19.3246 3.53411 19.6134C2.36462 19.9327 1.66244 20.5062 1.66244 21.1756C1.66244 22.3605 3.71636 23 5.64885 23C7.58139 23 9.63527 22.3605 9.63527 21.1756C9.63527 20.5067 8.93332 19.9331 7.76458 19.6137C8.2315 19.1208 8.73391 18.5408 9.21062 17.894C9.23746 17.8583 9.25696 17.8178 9.26801 17.7746C9.27906 17.7314 9.28143 17.6864 9.27499 17.6423C9.26854 17.5981 9.25341 17.5557 9.23047 17.5175C9.20753 17.4792 9.17723 17.4459 9.14132 17.4195C9.10542 17.393 9.06463 17.3739 9.02131 17.3634C8.97799 17.3528 8.933 17.3509 8.88894 17.3578C8.84489 17.3647 8.80264 17.3803 8.76465 17.4037C8.72666 17.427 8.69367 17.4577 8.6676 17.4938C8.09206 18.2749 7.46909 18.9613 6.92549 19.5065C6.86236 19.5385 6.8109 19.5896 6.77841 19.6525C6.29146 20.131 5.88168 20.486 5.64917 20.68C5.41921 20.4879 5.01568 20.1377 4.53497 19.6654C4.50093 19.5907 4.44083 19.531 4.36593 19.4974C2.83827 17.9609 0.684268 15.3062 0.684268 12.5529C0.684268 9.81539 2.91145 7.58821 5.64899 7.58821C8.38653 7.58821 10.6137 9.81539 10.6137 12.5529C10.6137 13.7484 10.2064 15.0395 9.40297 16.3902C9.38033 16.4283 9.36541 16.4705 9.35906 16.5143C9.35271 16.5581 9.35506 16.6028 9.36597 16.6457C9.37687 16.6887 9.39613 16.729 9.42264 16.7645C9.44914 16.8 9.48238 16.8299 9.52045 16.8525C9.55851 16.8752 9.60067 16.8901 9.6445 16.8965C9.68834 16.9028 9.73299 16.9005 9.77592 16.8895C9.81885 16.8786 9.85921 16.8594 9.89469 16.8329C9.93018 16.8064 9.9601 16.7731 9.98274 16.7351C10.849 15.2785 11.2883 13.8715 11.2883 12.5529C11.2883 9.44335 8.75852 6.91357 5.64903 6.91357ZM5.44262 21.3815C5.50169 21.4273 5.57431 21.4521 5.64903 21.452C5.72376 21.4521 5.79638 21.4273 5.85545 21.3815C5.89682 21.3495 6.46041 20.91 7.21164 20.1755C8.34915 20.4074 8.96081 20.8541 8.96081 21.1756C8.96081 21.4157 8.63171 21.699 8.10195 21.9148C7.4522 22.1796 6.58103 22.3255 5.6489 22.3255C3.62714 22.3255 2.33699 21.6444 2.33699 21.1756C2.33699 20.8536 2.94882 20.4072 4.08697 20.1752C4.84237 20.9141 5.40677 21.3538 5.44262 21.3815Z" />
                          <path d="M5.64915 10.1009C5.1157 10.1009 4.60844 10.2693 4.18222 10.5879C4.1106 10.6415 4.06318 10.7213 4.05039 10.8098C4.0376 10.8984 4.06049 10.9883 4.11403 11.06C4.16761 11.1316 4.24744 11.179 4.33596 11.1918C4.42448 11.2046 4.51446 11.1817 4.58612 11.1282C4.89477 10.8974 5.26237 10.7754 5.6491 10.7754C6.62916 10.7754 7.42648 11.5727 7.42648 12.5528C7.42648 13.5329 6.62916 14.3302 5.6491 14.3302C4.66904 14.3302 3.87172 13.5329 3.87172 12.5528C3.87172 12.3856 3.89486 12.2202 3.94045 12.0615C3.96513 11.9755 3.95465 11.8833 3.91132 11.805C3.86799 11.7268 3.79534 11.6689 3.70938 11.6442C3.6234 11.6196 3.53117 11.6301 3.45294 11.6735C3.37471 11.7168 3.31687 11.7894 3.29214 11.8754C3.22906 12.0957 3.19713 12.3237 3.19727 12.5528C3.19727 13.9048 4.29718 15.0048 5.64919 15.0048C7.00116 15.0048 8.10112 13.9048 8.10112 12.5528C8.10107 11.2008 7.00112 10.1009 5.64915 10.1009ZM20.3471 9.7984C20.5276 9.60501 20.7029 9.40685 20.8728 9.20413C22.2769 7.52706 22.9889 5.91486 22.9889 4.41218C22.9889 1.97935 21.0096 0 18.5767 0C16.7995 0 15.2037 1.05773 14.5114 2.69468C14.4942 2.73547 14.4851 2.77926 14.4848 2.82354C14.4844 2.86783 14.4928 2.91175 14.5095 2.95279C14.5261 2.99383 14.5507 3.0312 14.5818 3.06275C14.6128 3.0943 14.6498 3.11942 14.6906 3.13667C14.773 3.1715 14.8658 3.17218 14.9487 3.13858C15.0316 3.10498 15.0977 3.03984 15.1326 2.95748C15.7192 1.57065 17.0711 0.674502 18.5767 0.674502C20.6377 0.674502 22.3144 2.35126 22.3144 4.41223C22.3144 7.19931 19.3883 9.86952 18.5766 10.5564C18.3977 10.4053 18.1161 10.1578 17.786 9.83421C17.7533 9.76971 17.7007 9.71745 17.636 9.68516C16.4715 8.51265 14.839 6.49714 14.839 4.41223C14.839 4.32278 14.8035 4.23699 14.7403 4.17374C14.677 4.11049 14.5912 4.07495 14.5018 4.07495C14.4123 4.07495 14.3265 4.11049 14.2633 4.17374C14.2 4.23699 14.1645 4.32278 14.1645 4.41223C14.1645 5.91486 14.8765 7.52706 16.2807 9.20418C16.4505 9.40677 16.6257 9.60484 16.806 9.79818C15.9366 10.0594 15.4347 10.504 15.4347 11.0395C15.4347 11.491 15.801 11.889 16.4662 12.16C17.0354 12.3919 17.7849 12.5197 18.5767 12.5197C19.3684 12.5197 20.1179 12.3919 20.6871 12.16C21.3522 11.8889 21.7185 11.491 21.7185 11.0394C21.7185 10.505 21.2162 10.0599 20.3471 9.7984ZM18.5766 11.8451C16.9802 11.8451 16.1093 11.3129 16.1093 11.0394C16.1093 10.8612 16.5054 10.5352 17.3514 10.3553C17.9206 10.9091 18.3431 11.2382 18.3703 11.2594C18.4294 11.3052 18.502 11.33 18.5768 11.3299C18.6515 11.33 18.7241 11.3052 18.7832 11.2594C18.8104 11.2383 19.2328 10.9092 19.8021 10.3554C20.1789 10.4358 20.5054 10.5535 20.7339 10.6926C20.9281 10.8109 21.0441 10.9405 21.0441 11.0394C21.044 11.3129 20.1731 11.8451 18.5766 11.8451Z" />
                          <path d="M18.576 2.44968C17.4939 2.44968 16.6135 3.33006 16.6135 4.41227C16.6135 5.49439 17.4939 6.37477 18.576 6.37477C19.6582 6.37477 20.5386 5.49444 20.5386 4.41227C20.5386 3.3301 19.6582 2.44968 18.576 2.44968ZM18.5761 5.70022C17.8658 5.70022 17.288 5.12244 17.288 4.41222C17.288 3.70201 17.8658 3.12418 18.5761 3.12418C19.2863 3.12418 19.8641 3.70196 19.8641 4.41222C19.8641 5.12244 19.2863 5.70022 18.5761 5.70022ZM14.2011 10.7021H14.0471C13.935 10.7021 13.8223 10.7096 13.7121 10.7242C13.6241 10.7369 13.5446 10.7837 13.491 10.8545C13.4374 10.9254 13.4138 11.0145 13.4256 11.1026C13.4373 11.1907 13.4833 11.2706 13.5536 11.325C13.6239 11.3794 13.7128 11.4038 13.8011 11.3929C13.8826 11.3822 13.9648 11.3768 14.0471 11.3768H14.2011V11.3767C14.3874 11.3767 14.5384 11.2258 14.5384 11.0395C14.5384 10.8531 14.3874 10.7021 14.2011 10.7021ZM13.0861 20.8211H13.0845L12.6391 20.8231C12.5496 20.8233 12.4639 20.859 12.4008 20.9224C12.3377 20.9858 12.3023 21.0717 12.3025 21.1611C12.3027 21.2506 12.3384 21.3363 12.4018 21.3994C12.4652 21.4625 12.5511 21.4979 12.6405 21.4977H12.6421L13.0876 21.4957C13.177 21.4952 13.2626 21.4593 13.3256 21.3958C13.3885 21.3322 13.4237 21.2463 13.4233 21.1569C13.4229 21.0677 13.3872 20.9823 13.324 20.9193C13.2608 20.8564 13.1753 20.8211 13.0861 20.8211ZM14.6013 15.0708H14.1558C14.0664 15.0708 13.9806 15.1063 13.9174 15.1696C13.8541 15.2328 13.8186 15.3186 13.8186 15.4081C13.8186 15.4975 13.8541 15.5833 13.9174 15.6466C13.9806 15.7098 14.0664 15.7453 14.1558 15.7453H14.6013C14.6456 15.7453 14.6894 15.7366 14.7304 15.7197C14.7713 15.7027 14.8085 15.6779 14.8398 15.6466C14.8711 15.6152 14.896 15.5781 14.9129 15.5371C14.9299 15.4962 14.9386 15.4524 14.9386 15.4081C14.9386 15.3638 14.9299 15.3199 14.9129 15.279C14.896 15.2381 14.8711 15.2009 14.8398 15.1696C14.8085 15.1382 14.7713 15.1134 14.7304 15.0965C14.6894 15.0795 14.6456 15.0708 14.6013 15.0708ZM12.8142 11.3893C12.7535 11.3236 12.6693 11.2846 12.5799 11.281C12.4905 11.2774 12.4034 11.3095 12.3376 11.3701C12.2116 11.4863 12.0977 11.615 11.9977 11.7543C11.9477 11.827 11.9282 11.9164 11.9434 12.0034C11.9586 12.0903 12.0072 12.1679 12.0789 12.2194C12.1506 12.2709 12.2396 12.2922 12.3269 12.2788C12.4141 12.2654 12.4927 12.2184 12.5456 12.1478C12.619 12.0456 12.7026 11.9512 12.795 11.8659C12.8607 11.8052 12.8997 11.721 12.9033 11.6316C12.9069 11.5422 12.8749 11.4551 12.8142 11.3893ZM14.8679 20.8129H14.8664L14.421 20.815C14.3325 20.8166 14.2482 20.8529 14.1862 20.9162C14.1243 20.9794 14.0897 21.0644 14.0899 21.153C14.09 21.2415 14.125 21.3264 14.1873 21.3893C14.2495 21.4523 14.3339 21.4883 14.4225 21.4895H14.424L14.8694 21.4875C14.9579 21.4858 15.0423 21.4495 15.1042 21.3863C15.1661 21.323 15.2007 21.238 15.2006 21.1495C15.2004 21.061 15.1654 20.9761 15.1032 20.9131C15.0409 20.8501 14.9565 20.8142 14.8679 20.8129ZM11.3043 20.8291H11.3027L10.8572 20.8312C10.7678 20.8316 10.6822 20.8675 10.6192 20.9311C10.5563 20.9946 10.5211 21.0805 10.5215 21.17C10.5219 21.2591 10.5576 21.3445 10.6208 21.4075C10.684 21.4704 10.7695 21.5057 10.8587 21.5057H10.8603L11.3057 21.5037C11.3952 21.5033 11.4808 21.4673 11.5437 21.4038C11.6067 21.3403 11.6419 21.2543 11.6415 21.1649C11.6411 21.0757 11.6054 20.9903 11.5422 20.9274C11.479 20.8645 11.3934 20.8291 11.3043 20.8291ZM13.0633 14.7873C12.957 14.7202 12.8578 14.6425 12.7671 14.5554C12.7027 14.4934 12.6162 14.4595 12.5268 14.4613C12.4373 14.463 12.3523 14.5002 12.2902 14.5646C12.2595 14.5965 12.2354 14.6342 12.2193 14.6754C12.2031 14.7167 12.1952 14.7607 12.1961 14.805C12.197 14.8492 12.2065 14.8929 12.2243 14.9335C12.242 14.9741 12.2676 15.0108 12.2995 15.0415C12.4231 15.1603 12.5584 15.2663 12.7034 15.3578C12.7408 15.3815 12.7826 15.3975 12.8263 15.405C12.8699 15.4126 12.9146 15.4114 12.9579 15.4016C13.0011 15.3918 13.0419 15.3736 13.0781 15.348C13.1143 15.3224 13.145 15.29 13.1686 15.2525C13.1923 15.215 13.2083 15.1732 13.2158 15.1296C13.2233 15.0859 13.2221 15.0412 13.2123 14.9981C13.2025 14.9549 13.1843 14.914 13.1588 14.8778C13.1332 14.8417 13.1008 14.8109 13.0633 14.7873ZM12.2342 13.5793C12.2115 13.4622 12.2001 13.3431 12.2001 13.2238L12.2002 13.2051C12.2007 13.1608 12.1925 13.1168 12.176 13.0757C12.1595 13.0346 12.1351 12.9971 12.1042 12.9654C12.0732 12.9338 12.0363 12.9085 11.9956 12.8911C11.9549 12.8736 11.9111 12.8644 11.8669 12.8639L11.8629 12.8639C11.7741 12.8639 11.6889 12.8989 11.6258 12.9613C11.5627 13.0237 11.5267 13.1085 11.5257 13.1972L11.5255 13.2238C11.5255 13.3867 11.5412 13.5497 11.5721 13.7084C11.5806 13.7518 11.5975 13.7932 11.622 13.8301C11.6465 13.8671 11.678 13.8988 11.7147 13.9235C11.7514 13.9483 11.7927 13.9656 11.8361 13.9744C11.8795 13.9832 11.9242 13.9834 11.9677 13.9749C12.0112 13.9664 12.0526 13.9494 12.0895 13.925C12.1264 13.9005 12.1581 13.869 12.1829 13.8323C12.2076 13.7956 12.2249 13.7543 12.2337 13.7109C12.2425 13.6675 12.2427 13.6228 12.2342 13.5793ZM16.3832 15.0708H15.9378C15.8483 15.0708 15.7625 15.1063 15.6993 15.1696C15.636 15.2328 15.6005 15.3186 15.6005 15.4081C15.6005 15.4975 15.636 15.5833 15.6993 15.6466C15.7625 15.7098 15.8483 15.7453 15.9378 15.7453H16.3832C16.4727 15.7453 16.5584 15.7098 16.6217 15.6466C16.6849 15.5833 16.7205 15.4975 16.7205 15.4081C16.7205 15.3186 16.6849 15.2328 16.6217 15.1696C16.5584 15.1063 16.4727 15.0708 16.3832 15.0708ZM21.7981 15.7575C21.6679 15.6547 21.5298 15.5621 21.3852 15.4807C21.2231 15.3892 21.0173 15.4467 20.9258 15.609C20.9041 15.6475 20.8902 15.69 20.8849 15.734C20.8795 15.778 20.8829 15.8226 20.8948 15.8652C20.9068 15.9079 20.927 15.9478 20.9543 15.9826C20.9816 16.0175 21.0156 16.0466 21.0541 16.0683C21.1682 16.1327 21.2772 16.2058 21.38 16.2869C21.4395 16.334 21.513 16.3596 21.5888 16.3595C21.659 16.3596 21.7273 16.3378 21.7845 16.2972C21.8417 16.2566 21.8848 16.1992 21.9078 16.133C21.9308 16.0668 21.9326 15.995 21.913 15.9277C21.8933 15.8604 21.8532 15.8009 21.7981 15.7575ZM20.5462 21.0546C20.5206 20.8701 20.3501 20.741 20.1659 20.7667C20.0555 20.7819 19.9424 20.79 19.8296 20.7904L19.7665 20.7907C19.6783 20.793 19.5946 20.8296 19.5332 20.8928C19.4717 20.9559 19.4374 21.0406 19.4376 21.1288C19.4378 21.2169 19.4725 21.3015 19.5343 21.3644C19.596 21.4272 19.6799 21.4635 19.768 21.4653H19.7697L19.8327 21.465C19.975 21.4644 20.1172 21.4543 20.2583 21.4349C20.3021 21.4288 20.3444 21.4142 20.3826 21.3918C20.4208 21.3694 20.4543 21.3397 20.481 21.3044C20.5077 21.2691 20.5273 21.2288 20.5384 21.186C20.5496 21.1431 20.5523 21.0985 20.5462 21.0546ZM22.0347 20.1062C22.0042 20.0741 21.9676 20.0483 21.9271 20.0304C21.8866 20.0125 21.843 20.0027 21.7987 20.0016C21.7544 20.0005 21.7104 20.0082 21.669 20.0241C21.6277 20.0401 21.59 20.064 21.5579 20.0946C21.4629 20.185 21.3611 20.2679 21.2534 20.3427C21.1799 20.3937 21.1297 20.4718 21.1137 20.5598C21.0978 20.6478 21.1174 20.7385 21.1684 20.8121C21.1994 20.8569 21.2409 20.8936 21.2892 20.9188C21.3376 20.9441 21.3913 20.9573 21.4459 20.9572C21.5144 20.9572 21.5814 20.9363 21.6377 20.8971C21.7741 20.8025 21.9029 20.6975 22.0231 20.583C22.0552 20.5525 22.081 20.5159 22.0989 20.4754C22.1168 20.4349 22.1266 20.3913 22.1277 20.347C22.1288 20.3027 22.1211 20.2587 22.1051 20.2173C22.0892 20.176 22.0652 20.1382 22.0347 20.1062ZM22.6911 18.4682C22.6032 18.4517 22.5123 18.4707 22.4385 18.5212C22.3646 18.5716 22.3138 18.6493 22.2973 18.7372C22.273 18.8658 22.2387 18.9924 22.1948 19.1158C22.1659 19.1998 22.1713 19.2918 22.2098 19.3718C22.2483 19.4518 22.3169 19.5135 22.4005 19.5433C22.4842 19.5731 22.5762 19.5687 22.6567 19.5311C22.7371 19.4935 22.7995 19.4256 22.8303 19.3423C22.886 19.1858 22.9294 19.0253 22.9602 18.862C22.9767 18.7741 22.9577 18.6832 22.9072 18.6094C22.8567 18.5355 22.779 18.4847 22.6911 18.4682ZM22.8914 17.384C22.8455 17.2242 22.7872 17.0683 22.7169 16.9176C22.6782 16.8379 22.6097 16.7766 22.5263 16.747C22.4428 16.7173 22.3511 16.7217 22.2708 16.7592C22.1905 16.7966 22.1282 16.8641 22.0973 16.9471C22.0664 17.0301 22.0694 17.122 22.1056 17.2028C22.1609 17.3214 22.2069 17.4443 22.2431 17.5701C22.2633 17.6405 22.3058 17.7024 22.3643 17.7464C22.4227 17.7905 22.4939 17.8144 22.5671 17.8144C22.6194 17.8144 22.6709 17.8023 22.7177 17.779C22.7644 17.7557 22.8051 17.7218 22.8366 17.6801C22.868 17.6384 22.8894 17.5899 22.8989 17.5385C22.9084 17.4872 22.9059 17.4343 22.8914 17.384ZM18.1651 15.0708H17.7196C17.6302 15.0708 17.5444 15.1063 17.4811 15.1696C17.4179 15.2328 17.3824 15.3186 17.3824 15.4081C17.3824 15.4975 17.4179 15.5833 17.4811 15.6466C17.5444 15.7098 17.6302 15.7453 17.7196 15.7453H18.1651C18.2545 15.7453 18.3403 15.7098 18.4036 15.6466C18.4668 15.5833 18.5024 15.4975 18.5024 15.4081C18.5024 15.3186 18.4668 15.2328 18.4036 15.1696C18.3403 15.1063 18.2545 15.0708 18.1651 15.0708ZM16.6498 20.8048H16.6482L16.2028 20.8069C16.1143 20.8085 16.03 20.8448 15.968 20.9081C15.9061 20.9713 15.8715 21.0564 15.8717 21.1449C15.8719 21.2334 15.9069 21.3183 15.9691 21.3812C16.0313 21.4442 16.1158 21.4802 16.2043 21.4814H16.2059L16.6513 21.4794C16.7408 21.4792 16.8265 21.4435 16.8896 21.3801C16.9527 21.3167 16.988 21.2308 16.9878 21.1414C16.9876 21.0519 16.9519 20.9662 16.8885 20.9031C16.8251 20.84 16.7393 20.8046 16.6498 20.8048ZM19.9618 15.074C19.9139 15.0719 19.8661 15.0708 19.8182 15.0708H19.5015C19.412 15.0708 19.3262 15.1064 19.263 15.1696C19.1997 15.2329 19.1642 15.3187 19.1642 15.4081C19.1642 15.4976 19.1997 15.5833 19.263 15.6466C19.3262 15.7098 19.412 15.7454 19.5015 15.7454H19.8182V15.7453C19.8563 15.7453 19.8943 15.7462 19.9319 15.7479C19.9762 15.7498 20.0204 15.7431 20.062 15.7279C20.1036 15.7128 20.1419 15.6897 20.1746 15.6598C20.2072 15.6299 20.2337 15.5938 20.2524 15.5537C20.2712 15.5136 20.2818 15.4701 20.2838 15.4259C20.2857 15.3817 20.279 15.3374 20.2639 15.2958C20.2487 15.2542 20.2256 15.2159 20.1957 15.1833C20.1658 15.1506 20.1297 15.1241 20.0896 15.1054C20.0495 15.0866 20.006 15.076 19.9618 15.074ZM18.4316 20.7968H18.4301L17.9846 20.7988C17.8961 20.8004 17.8118 20.8368 17.7499 20.9C17.6879 20.9633 17.6533 21.0483 17.6535 21.1368C17.6537 21.2253 17.6887 21.3102 17.7509 21.3732C17.8131 21.4362 17.8976 21.4721 17.9861 21.4734H17.9877L18.4331 21.4713C18.5226 21.4709 18.6082 21.435 18.6711 21.3715C18.7341 21.3079 18.7693 21.222 18.7689 21.1325C18.7685 21.0434 18.7328 20.958 18.6696 20.895C18.6064 20.8321 18.5208 20.7968 18.4316 20.7968Z" />
                        </g>
                      </svg>
                      <h6>Tour</h6>
                    </a>
                    <i className="bi bi-plus dropdown-icon" />
                    <ul className="sub-menu">
                      <li>
                        <Link href="/tour-upload">Add New</Link>
                      </li>
                      <li>
                        <Link href="/all-tour">All Tour</Link>
                      </li>
                    </ul>
                  </li>
                  <li>
                    <Link href="/all-inquiries">
                      <svg
                        width={18}
                        height={18}
                        viewBox="0 0 30 30"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path d="M7.76367 0.527342C6.91406 0.662107 6.22852 0.966795 5.38477 1.58789C5.08594 1.81054 4.80469 1.99219 4.76953 1.99219C4.73438 1.99219 4.52344 2.08594 4.29492 2.19726C3.33984 2.67773 2.69531 3.70898 2.69531 4.76953C2.69531 5.36133 2.8125 5.74219 3.27539 6.67383L3.68555 7.48828L3.45703 7.52929C3.14062 7.58203 2.73047 7.85742 2.53711 8.15039C2.39062 8.37304 2.37305 8.44922 2.37305 8.91211C2.37305 9.38672 2.38477 9.43945 2.54883 9.67383C2.77734 10.002 3.17578 10.248 3.55078 10.2891L3.84375 10.3242L3.95508 10.7168C4.24219 11.7363 4.93359 12.6738 5.84766 13.2715L6.09375 13.4355V14.0625V14.6895L3.94336 15.5801C2.75391 16.0723 1.64648 16.5703 1.47656 16.6816C1.10742 16.9336 0.873047 17.2148 0.65625 17.6777L0.498047 18.0176L0.480469 21.5215L0.462891 25.0195L0.609375 25.166L0.755859 25.3125H2.49023H4.21875V27.2754V29.2441L4.36523 29.3848L4.50586 29.5312H15H25.4941L25.6348 29.3848L25.7812 29.2441V27.2754V25.3125H27.5098H29.2441L29.3848 25.166L29.5312 25.0254V21.668C29.5312 18.1582 29.5195 18.0117 29.2676 17.5195C29.0918 17.1797 28.8457 16.9043 28.5234 16.6816C28.3535 16.5703 27.2461 16.0723 26.0625 15.5801L23.9062 14.6836V14.0625V13.4355L24.1582 13.2715C25.0664 12.6738 25.7578 11.7363 26.0449 10.7168L26.1562 10.3242L26.4492 10.2891C27.1172 10.2129 27.6094 9.67383 27.6445 8.9707C27.6621 8.63672 27.6445 8.54297 27.498 8.26172C27.3047 7.89258 26.918 7.59375 26.543 7.52929C26.4141 7.50586 26.3086 7.48242 26.3086 7.4707C26.3086 7.45898 26.4316 7.16601 26.5781 6.81445C26.9121 6.04687 27 5.73047 27.0469 5.15625C27.123 4.14258 26.6836 3 25.9277 2.25586C25.4707 1.80469 25.1074 1.59375 23.8477 1.03711C22.8398 0.597654 22.4004 0.498045 21.5332 0.503904C20.373 0.521482 19.582 0.802732 18.5098 1.58789C18.2109 1.81054 17.9297 1.99219 17.8945 1.99219C17.6836 1.99219 16.9805 2.43164 16.6582 2.77148C16.043 3.41015 15.7793 4.11328 15.8379 4.98047C15.8555 5.25586 15.8906 5.53711 15.9141 5.61328C15.9492 5.73633 15.9375 5.74219 15.7852 5.70117C15.5449 5.64258 14.373 5.66015 14.0742 5.73047L13.8223 5.78906L13.8691 5.57226C13.9453 5.22656 13.9102 4.39453 13.7988 3.98437C13.5645 3.08203 12.8848 2.16211 12.123 1.71094C11.6074 1.40625 10.0312 0.726561 9.5918 0.621092C9.09375 0.498045 8.23242 0.457029 7.76367 0.527342ZM9.43359 1.55273C9.97852 1.69336 11.584 2.44922 11.9238 2.72461C12.7148 3.375 13.1133 4.37695 12.9551 5.33203C12.8379 6.04687 12.7676 6.1582 12.1523 6.60351C11.5488 7.03711 11.5371 7.04297 10.8926 7.34765C9.66211 7.92773 9 9.35156 9.3457 10.6816C9.39258 10.8633 9.61523 11.3848 9.84375 11.8359L10.2539 12.6562H9.95508C9.47461 12.6562 9.19922 12.7676 8.87695 13.0957C8.2793 13.6875 8.2793 14.4375 8.87695 15.0293C9.2168 15.375 9.47461 15.4687 10.043 15.4687C10.3418 15.4687 10.4297 15.4863 10.4297 15.5508C10.4297 15.75 10.8105 16.6641 11.0391 17.0273C11.3379 17.4844 11.9062 18.0762 12.3457 18.3809L12.6562 18.5918V19.1953V19.7988L12.3516 19.8867C12.1816 19.9336 10.6992 20.3437 9.05273 20.8008C7.41211 21.252 5.94727 21.668 5.80078 21.7148C4.86328 22.043 4.21875 22.9746 4.21875 24V24.375H2.8125H1.40039L1.41797 21.2871C1.43555 18.2168 1.43555 18.1934 1.56445 17.9473C1.63477 17.8184 1.79297 17.6309 1.9043 17.5312C2.0332 17.4258 3.02344 16.9805 4.48828 16.377C6.02344 15.7383 6.89062 15.3457 6.94922 15.2695C7.01367 15.1758 7.03125 14.918 7.03125 14.0918C7.03125 12.873 7.03711 12.8848 6.51562 12.5918C6.33398 12.4863 5.99414 12.2109 5.76562 11.9824C5.25586 11.4668 4.9043 10.8105 4.76953 10.1074C4.64648 9.47461 4.53516 9.375 3.97852 9.375C3.62109 9.375 3.55078 9.35742 3.42773 9.22851C3.23438 9.04101 3.23438 8.77148 3.42773 8.58398C3.55078 8.45508 3.62109 8.4375 3.98438 8.4375C4.34766 8.4375 4.41797 8.41992 4.54102 8.29101C4.66406 8.17383 4.6875 8.09179 4.6875 7.78125C4.6875 7.43554 4.6582 7.34765 4.17773 6.36328L3.66211 5.30859V4.78125C3.66211 4.2832 3.67383 4.21875 3.86133 3.8789C4.10156 3.43945 4.36523 3.19922 4.80469 3.00586C5.39062 2.74804 5.47266 2.70117 6.03516 2.28515C6.61523 1.85742 7.24219 1.57031 7.80469 1.46484C8.21484 1.39453 8.97656 1.43554 9.43359 1.55273ZM22.5586 1.55273C23.1035 1.69336 24.709 2.44922 25.0488 2.72461C25.6289 3.19922 25.957 3.77929 26.0859 4.55273C26.1797 5.10937 26.0742 5.625 25.6641 6.58008C25.3535 7.29492 25.3125 7.4414 25.3125 7.76953C25.3125 8.09765 25.3359 8.16797 25.459 8.29101C25.582 8.41992 25.6523 8.4375 26.0156 8.4375C26.3789 8.4375 26.4492 8.45508 26.5723 8.58398C26.7656 8.77148 26.7656 9.04101 26.5723 9.22851C26.4492 9.35742 26.3789 9.375 26.0215 9.375C25.4648 9.375 25.3535 9.47461 25.2305 10.1074C25.0957 10.8105 24.7441 11.4668 24.2344 11.9824C24.0059 12.2168 23.666 12.4922 23.4785 12.5977C22.9629 12.8848 22.9688 12.873 22.9688 14.0977C22.9688 15.0293 22.9805 15.1758 23.0742 15.2812C23.1328 15.3516 24.1699 15.8203 25.5293 16.3828C26.9824 16.9863 27.9609 17.4258 28.0957 17.5312C28.207 17.6309 28.3652 17.8184 28.4355 17.9473C28.5645 18.1934 28.5645 18.2168 28.582 21.2812L28.5996 24.375H27.1875H25.7812V24C25.7812 23.0859 25.2598 22.2246 24.4512 21.8027C24.3809 21.7676 22.7988 21.3164 20.9355 20.8008C19.0723 20.2793 17.502 19.8457 17.4492 19.8281C17.3555 19.7988 17.3438 19.7168 17.3438 19.1953V18.5918L17.666 18.375C18.1055 18.0703 18.7441 17.3848 19.0312 16.9043C19.1602 16.6816 19.3418 16.2715 19.4355 15.9902L19.5996 15.4687H19.9746C20.5312 15.4687 20.7891 15.3691 21.123 15.0293C21.7207 14.4375 21.7207 13.6875 21.123 13.0957C20.8008 12.7676 20.5254 12.6562 20.0449 12.6562C19.8809 12.6562 19.7461 12.6445 19.7461 12.6328C19.7461 12.6211 19.8691 12.3223 20.0156 11.9707C20.3496 11.2031 20.4375 10.8867 20.4844 10.3125C20.5605 9.29883 20.1328 8.17969 19.3652 7.41211C18.9727 7.01953 18.8438 6.9375 18.0527 6.55078L17.1738 6.12304L16.9805 5.71289C16.8047 5.34375 16.7871 5.25 16.7871 4.77539C16.7871 4.28906 16.7988 4.21875 16.9863 3.8789C17.2266 3.43945 17.4902 3.19922 17.9297 3.00586C18.5156 2.74804 18.5977 2.70117 19.1602 2.28515C19.7402 1.85742 20.3672 1.57031 20.9297 1.46484C21.3398 1.39453 22.1016 1.43554 22.5586 1.55273ZM16.0078 6.70898C16.5234 6.84375 18.1582 7.61719 18.4863 7.88086C19.4883 8.70117 19.834 10.0957 19.3125 11.2266L19.1777 11.5137L18.9082 10.9746C18.498 10.166 18.3691 10.1367 17.6074 10.6992C16.6289 11.4199 16.1367 11.6309 15.2695 11.6953C14.2852 11.7715 13.4766 11.502 12.4922 10.7754C11.6133 10.125 11.502 10.1426 11.0742 11.0098C10.9336 11.3027 10.7988 11.543 10.7812 11.543C10.7578 11.543 10.623 11.2969 10.4824 10.998C10.2363 10.4824 10.2246 10.4355 10.2246 9.93164C10.2246 9.44531 10.2363 9.375 10.4238 9.03515C10.6582 8.60156 10.916 8.36133 11.3672 8.15039C11.6367 8.02148 11.7715 7.99804 12.1875 7.99804C12.6211 7.99804 12.7383 8.02148 13.0664 8.17969C13.4531 8.36133 13.7402 8.5957 14.0098 8.95898L14.1562 9.1582L14.5195 8.91211C14.7188 8.77734 14.8828 8.64258 14.8828 8.61914C14.8828 8.53125 14.4434 7.99804 14.1855 7.78125C13.9102 7.54687 13.3066 7.20703 13.1602 7.20703C12.9141 7.20703 13.125 7.04297 13.6113 6.84961C14.3145 6.5625 15.252 6.50976 16.0078 6.70898ZM12.4219 11.8652C13.2656 12.4219 13.9512 12.6211 15 12.6211C16.0488 12.6211 16.7344 12.4219 17.5781 11.8652C17.8477 11.6895 18.082 11.543 18.1055 11.543C18.123 11.543 18.2812 11.8301 18.4512 12.1758L18.7617 12.8086L18.7383 14.0332C18.7148 15.1816 18.7031 15.293 18.5625 15.6914C18.3457 16.3008 18.0762 16.7227 17.6367 17.168C17.1914 17.6074 16.7695 17.877 16.1602 18.0937C15.791 18.2227 15.6387 18.2461 15.0293 18.252C14.4609 18.252 14.25 18.2285 13.916 18.123C12.9609 17.8184 12.1055 17.0977 11.6719 16.2305C11.3262 15.5391 11.25 15.123 11.25 13.8457V12.7734L11.5547 12.1582C11.7246 11.8184 11.877 11.543 11.8945 11.543C11.918 11.543 12.1523 11.6895 12.4219 11.8652ZM10.3125 14.0625V14.5312H9.99023C9.59766 14.5312 9.375 14.3613 9.375 14.0625C9.375 13.7637 9.59766 13.5937 9.99023 13.5937H10.3125V14.0625ZM20.4785 13.7402C20.5723 13.8281 20.625 13.9512 20.625 14.0625C20.625 14.3613 20.4023 14.5312 20.0098 14.5312H19.6875V14.0625V13.5937H20.0098C20.2793 13.5937 20.3613 13.6172 20.4785 13.7402ZM15 19.1777C15.5273 19.1777 15.8965 19.1484 16.1016 19.0898L16.4062 19.002V19.4766V19.9512L15.7031 20.6543L15 21.3574L14.2969 20.6543L13.5938 19.9512V19.4766V19.002L13.9043 19.0898C14.1035 19.1484 14.4727 19.1777 15 19.1777ZM13.8867 21.5918C14.707 22.4004 14.8242 22.5 15 22.5C15.1758 22.5 15.293 22.4004 16.1133 21.5918L17.0273 20.6836L20.5078 21.6504C24.2051 22.6758 24.3047 22.7168 24.5918 23.1387C24.668 23.25 24.75 23.4316 24.7852 23.5488C24.8203 23.6719 24.8438 24.7383 24.8438 26.1738V28.5937H23.4375H22.0312V26.7187V24.8437H21.5625H21.0938V26.7187V28.5937H15H8.90625V26.7187V24.8437H8.4375H7.96875V26.7187V28.5937H6.5625H5.15625V26.1738C5.15625 24.7383 5.17969 23.6719 5.21484 23.5488C5.25 23.4316 5.33203 23.25 5.4082 23.1387C5.68945 22.7168 5.80078 22.6758 9.46289 21.6562C11.3672 21.123 12.9316 20.6895 12.9492 20.6895C12.9609 20.6836 13.3828 21.0937 13.8867 21.5918Z" />
                      </svg>
                      <h6>Inquiries</h6>
                    </Link>
                  </li>
                  <li>
                    <Link href="/all-cabs">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="18"
                        height="18"
                        viewBox="0 0 24 24"
                        fill="#000"
                      >
                        <path d="M18.92 6.01l-1.43-4.01A2.003 2.003 0 0 0 15.62 1H8.38a2.003 2.003 0 0 0-1.87 1l-1.43 4.01C3.46 6.21 2 7.83 2 9.75V19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-1h10v1a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2V9.75c0-1.92-1.46-3.54-3.08-3.74zM8.34 3h7.32l1 2.8H7.34l1-2.8zM6 15.5A1.5 1.5 0 1 1 6 12a1.5 1.5 0 0 1 0 3.5zm12 0A1.5 1.5 0 1 1 18 12a1.5 1.5 0 0 1 0 3.5z" />
                      </svg>

                      <h6>Cabs</h6>
                    </Link>
                  </li>

                  <li>
                    <a href="#">
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width={18}
                        height={18}
                        viewBox="0 0 18 18"
                      >
                        <g clipPath="url(#clip0_998_2016)">
                          <path
                            fillRule="evenodd"
                            clipRule="evenodd"
                            d="M6.75 14.0625C6.75 14.2117 6.80926 14.3548 6.91475 14.4602C7.02024 14.5657 7.16332 14.625 7.3125 14.625H16.3125C16.4617 14.625 16.6048 14.5657 16.7102 14.4602C16.8157 14.3548 16.875 14.2117 16.875 14.0625V3.9375C16.875 3.78832 16.8157 3.64524 16.7102 3.53975C16.6048 3.43426 16.4617 3.375 16.3125 3.375H7.3125C7.16332 3.375 7.02024 3.43426 6.91475 3.53975C6.80926 3.64524 6.75 3.78832 6.75 3.9375V6.1875C6.75 6.33668 6.69074 6.47976 6.58525 6.58525C6.47976 6.69074 6.33668 6.75 6.1875 6.75C6.03832 6.75 5.89524 6.69074 5.78975 6.58525C5.68426 6.47976 5.625 6.33668 5.625 6.1875V3.9375C5.625 3.48995 5.80279 3.06072 6.11926 2.74426C6.43572 2.42779 6.86495 2.25 7.3125 2.25H16.3125C16.7601 2.25 17.1893 2.42779 17.5057 2.74426C17.8222 3.06072 18 3.48995 18 3.9375V14.0625C18 14.5101 17.8222 14.9393 17.5057 15.2557C17.1893 15.5722 16.7601 15.75 16.3125 15.75H7.3125C6.86495 15.75 6.43572 15.5722 6.11926 15.2557C5.80279 14.9393 5.625 14.5101 5.625 14.0625V11.8125C5.625 11.6633 5.68426 11.5202 5.78975 11.4148C5.89524 11.3093 6.03832 11.25 6.1875 11.25C6.33668 11.25 6.47976 11.3093 6.58525 11.4148C6.69074 11.5202 6.75 11.6633 6.75 11.8125V14.0625Z"
                          />
                          <path
                            fillRule="evenodd"
                            clipRule="evenodd"
                            d="M0.164279 9.39823C0.111895 9.34598 0.0703346 9.2839 0.0419773 9.21557C0.0136201 9.14723 -0.000976563 9.07397 -0.000976562 8.99998C-0.000976563 8.92599 0.0136201 8.85273 0.0419773 8.78439C0.0703346 8.71605 0.111895 8.65398 0.164279 8.60173L3.53928 5.22673C3.59158 5.17443 3.65367 5.13294 3.722 5.10464C3.79033 5.07634 3.86357 5.06177 3.93753 5.06177C4.01149 5.06177 4.08473 5.07634 4.15306 5.10464C4.22139 5.13294 4.28348 5.17443 4.33578 5.22673C4.38808 5.27903 4.42956 5.34111 4.45787 5.40945C4.48617 5.47778 4.50074 5.55102 4.50074 5.62498C4.50074 5.69894 4.48617 5.77218 4.45787 5.84051C4.42956 5.90884 4.38808 5.97093 4.33578 6.02323L1.9204 8.43748H11.8125C11.9617 8.43748 12.1048 8.49674 12.2103 8.60223C12.3158 8.70772 12.375 8.85079 12.375 8.99998C12.375 9.14916 12.3158 9.29224 12.2103 9.39773C12.1048 9.50322 11.9617 9.56248 11.8125 9.56248H1.9204L4.33578 11.9767C4.38808 12.029 4.42956 12.0911 4.45787 12.1594C4.48617 12.2278 4.50074 12.301 4.50074 12.375C4.50074 12.4489 4.48617 12.5222 4.45787 12.5905C4.42956 12.6588 4.38808 12.7209 4.33578 12.7732C4.28348 12.8255 4.22139 12.867 4.15306 12.8953C4.08473 12.9236 4.01149 12.9382 3.93753 12.9382C3.86357 12.9382 3.79033 12.9236 3.722 12.8953C3.65367 12.867 3.59158 12.8255 3.53928 12.7732L0.164279 9.39823Z"
                          />
                        </g>
                      </svg>
                      <h6
                        onClick={(e) => {
                          Cookies.remove("token");
                          router.push("/");
                        }}
                      >
                        Log Out
                      </h6>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
            <div className="main-content">
              <div className="row">
                <div className="col-xl-12">
                  <div className="main-content-title-profile mb-50">
                    <div className="main-content-title">
                      <h3>Hi, Admin! </h3>
                    </div>
                  </div>
                  <div className="container mt-4">
                    <div className="d-flex justify-content-between align-items-center mb-3">
                      <h2
                        className="fw-bold"
                        style={{
                          color: "var(--title-color)",
                          fontFamily: "var(--font-rubik)",
                        }}
                      >
                        Cab Management
                      </h2>
                      <button
                        className="btn btn-primary fw-bold"
                        onClick={() => setShowModal(true)}
                        style={{
                          backgroundColor: "var(--primary-color1)",
                          borderColor: "var(--primary-color1)",
                        }}
                      >
                        + Add Cab
                      </button>
                    </div>

                    {/* Cab Cards */}
                    <div className="row">
                      {cabs.map((cab) => (
                        <div className="col-md-4 mb-4" key={cab._id}>
                          <div className="feature-card shadow-sm border-0">
                            {/* Icon */}
                            <div className="feature-card-icon">
                              <TaxiIcon
                                size={40}
                                color="var(--primary-color1)"
                              />
                            </div>

                            {/* Content */}
                            <div className="feature-card-content">
                              <h6
                                className="fw-bold"
                                style={{
                                  fontFamily: "var(--font-rubik)",
                                  color: "var(--title-color)",
                                }}
                              >
                                {cab.source} → {cab.destination}
                              </h6>

                              <p
                                className="small"
                                style={{
                                  color: "var(--text-color)",
                                  fontFamily: "var(--font-jost)",
                                }}
                              >
                                Route availability with multiple cab options.
                              </p>

                              <div className="car-price-list">
                                {cab.cars.map((car, index) => (
                                  <div
                                    key={index}
                                    className="d-flex justify-content-between"
                                  >
                                    <span
                                      style={{ fontFamily: "var(--font-jost)" }}
                                    >
                                      {car.carName}
                                    </span>
                                    <span className="fw-bold text-primary">
                                      ₹{car.price}
                                    </span>
                                  </div>
                                ))}
                              </div>

                              <span
                                className={`badge mt-3 ${
                                  cab.active ? "bg-success" : "bg-secondary"
                                }`}
                              >
                                {cab.active ? "Active" : "Inactive"}
                              </span>

                              {/* Actions */}
                              <div className="mt-3 d-flex justify-content-between">
                                <button
                                  className="btn btn-sm"
                                  style={{
                                    borderColor: "var(--primary-color1)",
                                    color: "var(--primary-color1)",
                                  }}
                                  onClick={() => handleEdit(cab)}
                                >
                                  Edit
                                </button>

                                <button
                                  className="btn btn-sm btn-outline-danger"
                                  onClick={() => setDeleteId(cab._id)}
                                >
                                  Delete
                                </button>

                                <button
                                  className="btn btn-sm"
                                  style={{
                                    borderColor: "var(--primary-color2)",
                                    color: "var(--primary-color2)",
                                  }}
                                  onClick={() => toggleStatus(cab)}
                                >
                                  {cab.active ? "Deactivate" : "Activate"}
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                      ))}
                    </div>

                    {/* Add/Edit Modal */}
                    {showModal && (
                      <div className="modal show fade d-block" tabIndex="-1">
                        <div className="modal-dialog modal-lg">
                          <div className="modal-content">
                            <div className="modal-header bg-primary text-white">
                              <h5 className="modal-title" style={{ color: "#fff" }}>
                                {editingCab ? "Edit Cab" : "Add Cab"}
                              </h5>
                              <button
                                className="btn-close"
                                onClick={() => setShowModal(false)}
                              />
                            </div>

                            <div className="modal-body">
                              <div className="mb-3">
                                <label className="form-label">Source</label>
                                <input
                                  type="text"
                                  className="form-control"
                                  name="source"
                                  value={form.source}
                                  onChange={updateForm}
                                />
                              </div>

                              <div className="mb-3">
                                <label className="form-label">
                                  Destination
                                </label>
                                <input
                                  type="text"
                                  className="form-control"
                                  name="destination"
                                  value={form.destination}
                                  onChange={updateForm}
                                />
                              </div>

                              <label className="form-label fw-bold">Cars</label>
                              {form.cars.map((car, index) => (
                                <div className="row mb-2" key={index}>
                                  <div className="col-md-5">
                                    <input
                                      type="text"
                                      className="form-control"
                                      placeholder="Car Name"
                                      value={car.carName}
                                      onChange={(e) =>
                                        updateForm(e, index, "carName")
                                      }
                                    />
                                  </div>
                                  <div className="col-md-5">
                                    <input
                                      type="number"
                                      className="form-control"
                                      placeholder="Price"
                                      value={car.price}
                                      onChange={(e) =>
                                        updateForm(e, index, "price")
                                      }
                                    />
                                  </div>
                                  <div className="col-md-2">
                                    <button
                                      className="btn btn-danger w-100"
                                      onClick={() => removeCarRow(index)}
                                      disabled={form.cars.length === 1}
                                    >
                                      ×
                                    </button>
                                  </div>
                                </div>
                              ))}

                              <button
                                className="btn btn-secondary"
                                onClick={addCarRow}
                              >
                                + Add Car
                              </button>
                            </div>

                            <div className="modal-footer">
                              <button
                                className="btn btn-secondary"
                                onClick={() => setShowModal(false)}
                              >
                                Cancel
                              </button>
                              <button
                                className="btn btn-primary"
                                onClick={handleSave}
                              >
                                {editingCab ? "Update" : "Save"}
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    )}

                    {/* Delete Confirmation Modal */}
                    {deleteId && (
                      <div className="modal show fade d-block" tabIndex="-1">
                        <div className="modal-dialog">
                          <div className="modal-content">
                            <div className="modal-header bg-danger text-white">
                              <h5 className="modal-title" style={{ color: "#fff" }}>Confirm Delete</h5>
                              <button
                                className="btn-close"
                                onClick={() => setDeleteId(null)}
                              />
                            </div>

                            <div className="modal-body">
                              <p className="fw-bold">
                                Are you sure you want to delete this cab?
                              </p>
                            </div>

                            <div className="modal-footer">
                              <button
                                className="btn btn-secondary"
                                onClick={() => setDeleteId(null)}
                              >
                                Cancel
                              </button>
                              <button
                                className="btn btn-danger"
                                onClick={handleDelete}
                              >
                                Delete
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    )}
                  </div>
                </div>
              </div>
            </div>
            <div className="dashboard-footer">
              <div className="copyright-area">
                <p>
                  Copyright 2024 <a href="#">Bagadia Tours and Travels</a> |
                  Design By{" "}
                  <a href="https://www.foremostinfosystem.com/">
                    Foremost Infosystem
                  </a>
                </p>
              </div>
            </div>
          </div>
        </>
      )}
    </>
  );
};

export default CabManagement;
